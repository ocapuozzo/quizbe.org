{% trans_default_domain 'FOSUserBundle' %}

<div id="container" class="container">

  <div  style="margin-top:20px;" 
        class="mainbox col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2">    

    <div class="panel panel-info">
      <div class="panel-heading">
        <h3 class="panel-title" style="text-align: center">
          Cr√©ation de mon profil
        </h3>
      </div>

      <form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} 
            method="POST" class="fos_user_registration_register">
        <div class="panel-body" >
          <div class ="row" style="padding-bottom: 3px">
            <div class="form-group" >
              {{ form_label(form.email, 'Email', {'label_attr': {'class': 'col-sm-2 control-label'}} ) }}
              {{ form_errors(form.email) }}
              <div class="col-sm-10">
                {{ form_widget(form.email , {'attr': {'class': 'form-control'}})}}
              </div>
            </div>
          </div>
          <div class ="row" style="padding-bottom: 3px">
            <div class="form-group">
              {{ form_label(form.username, 'Username', {'label_attr': {'class': 'col-sm-2 control-label'}} ) }}
              {{ form_errors(form.username) }}
              <div class="col-sm-10">
                {{ form_widget(form.username , {'attr': {'class': 'form-control'}})}}
              </div>
            </div>             
          </div>
          <div class ="row" style="padding-bottom: 3px">
            <div class="form-group">
              {{ form_label(form.plainPassword.first, 'Mot de passe', {'label_attr': {'class': 'col-sm-2 control-label'}})}}
              <div class="col-sm-10">
                {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}          
              </div>        
            </div>
          </div>
          <div class ="row" style="padding-bottom: 3px">
            <div class="form-group">
              {{ form_label(form.plainPassword.second, 'Repeter le mot de passe', {'label_attr': {'class': 'col-sm-2 control-label'}})}}
              <div class="col-sm-10">
                {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}          
              </div>        
            </div>
          </div>
          <div class ="row" style="padding-bottom: 3px">
            <div class="form-group"> 
              {% set _label %}{% trans from "messages"%}degree{% endtrans %} {% endset %}   
              {% set label %}{{ 'degree'|trans({}, 'messages') }}{% endset %}

              {# TODO translation does not work ! #}

              {{ form_label(form.degree, label, {'label_attr': {'class': 'col-sm-2 control-label'}})}}
              <div class="col-sm-10">
                {{ form_widget(form.degree, {'attr': {'class': 'form-control'}}) }}          
              </div>        
            </div>
          </div>


          {{ form_rest(form) }}

          {#{ form_widget(form) }#}
        </div>
        <div class="panel-footer" style="overflow:hidden;text-align:right;">
          <div class="form-group">
            <div>
              <input type="submit" class= "btn btn-success btn-sm" value="{{ 'registration.submit'|trans }}" />
            </div>
          </div>  
        </div>

      </form>
    </div>
  </div>
</div>
